#include "include/menuconfig.h"
#include "include/asm/memmap_config.h"

#define TEXT_BASE  (SYS_MEM_BASE + TEXT_OFFSET)

OUTPUT_FORMAT("elf64-littleaarch64")
OUTPUT_ARCH(aarch64)

MEMORY
{
    ram : ORIGIN = SYS_MEM_BASE, LENGTH = 0x10000000
}
SECTIONS
{
    /DISCARD/ : { *(.comment .note) }

    .ram_vectors TEXT_BASE : {
        __ram_vectors_vma = .;
        KEEP (*(.vectors))
    } > ram
    __ram_vectors_lma = LOADADDR(.ram_vectors);

#ifdef LOSCFG_EXC_INTERACTION
    __ram_exc_heap_memsize = EXC_INTERACT_MEM_SIZE;
#else
    __ram_exc_heap_memsize = 0;
#endif
}
